webpackJsonp([8],{"6Vet":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e("Dd8w"),a=e.n(n),i=e("CFd4"),o=e("woOf"),r=e.n(o),c=e("cQcd"),l=e("T452"),p=e("2Kku"),u=e("5jRo"),f=e("NYxO"),d={mixins:[u.a],data:function(){return{topList:[]}},created:function(){this.getData()},methods:a()({getData:function(){var t,s=this;(t=r()({},l.b,{g_tk:1928093487,uin:0,needNewCode:1,platform:"h5"}),Object(c.a)("https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg",t,{param:"jsonpCallback"}).then(function(t){if(t.code===l.a)return t.data.topList;throw new Error("没有获取到排行榜数据")}).catch(function(t){t&&console.log("获取排行数据错误"+t)})).then(function(t){t&&(s.topList=t,console.log(t))})},goRankDetail:function(t){this.$router.push({path:"/rank/"+t.id}),this.setTopList(t)},changeListBottom:function(t){var s=t.length>0?"1.2rem":0;this.$refs.rankWrapper.style.bottom=s,this.$refs.scroll.refresh()}},Object(f.d)({setTopList:"SET_TOP_LIST"})),components:{"v-scroll":i.a,"v-loading":p.a}},v={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"rankWrapper",staticClass:"rank-wrapper"},[e("v-scroll",{ref:"scroll",staticClass:"scroll",attrs:{data:t.topList}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.topList.length>0,expression:"topList.length>0"}],staticClass:"rank"},t._l(t.topList,function(s){return e("li",{key:s.id,staticClass:"rank-item",on:{click:function(e){return t.goRankDetail(s)}}},[e("div",{staticClass:"rank-pic"},[e("img",{attrs:{src:s.picUrl}})]),t._v(" "),e("ul",{staticClass:"rank-songs"},t._l(s.songList,function(s,n){return e("li",{key:n,staticClass:"song-desc"},[e("span",[t._v(t._s(n))]),t._v(" "),e("span",{staticClass:"song-name"},[t._v(t._s(s.songname)+" - "+t._s(s.singername))])])}),0)])}),0)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.topList.length,expression:"topList.length===0"}],staticClass:"loading-wrapper"},[e("v-loading")],1),t._v(" "),e("router-view")],1)},staticRenderFns:[]};var h=e("VU/8")(d,v,!1,function(t){e("ZflD")},"data-v-2db34204",null);s.default=h.exports},ZflD:function(t,s){}});
//# sourceMappingURL=8.902cb7ea879fb20c5102.js.map